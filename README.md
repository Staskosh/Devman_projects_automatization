# Автоматизация проектов Девман
Тут описание проекта


### Как установить

Создайте бота и получите токен.
Сделать это можно тут: [BotFather](https://telegram.me/BotFather), для этого необходимо
ввести `/start` и следовать инструкции.


Далее рядом с кодом вы должны создать файл `.env`, в котором будут храниться
ваши личные данные:

```
BOT_TOKEN='Ваш токен телеграм бота'
SECRET_KEY='секретный ключ проекта'
DISCORD='статичная ссылка на Дискорд чат'
```

Python3 должен быть уже установлен. Затем используйте `pip` (или `pip3`, есть
конфликт с Python2) для установки зависимостей:

```bash
pip install -r requirements.txt
```
### Как запустить
1. Скачайте код
2. Установите зависимости командой:
```bash
pip install -r requirements.txt
```
3. Создайте файл базы данных и сразу примените все миграции командой:
```bash
python3 manage.py makemigrations
python3 manage.py migrate
```
4. Создайте суперпользователя:
```bash
python3 manage.py createsuperuser
```
5. Запустите создание записей в бд(у вас уже должны быть созданы файлы PMs.json и students.json):
```bash
python3 manage.py load_from_json
```
5. Запустите сервер командой:
```bash
python3 manage.py runserver
```
6. Запустите бота командой:
```bash
python3 manage.py tg_bot
```
7. После того, как ученики укажут удобное время для созвона в телеграме, администратор проводит группировку в админке
- зайдите в админку ```ваш IP или домен/admin```
- введите данные суперпользователя
- во вкладке ```Провести распределение в команды``` добавьте кнопку распределния
- нажмите кнопку ```Distribution```
8. Если команды верно  сформированы, запустите уведомление учеников:
```bash
python3 manage.py notify
```
